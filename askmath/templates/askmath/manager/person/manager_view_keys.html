{% extends 'askmath/manager/person/manager_view_persons.html' %}
{% load i18n %}

{% block breadcrumbs %}
	{{ block.super }}
	<li><a href="/home/manager/persons/add/person_type={{ person_type }}/"><span class="icon mif-key"></span> <spam>{% trans "View Keys" %}</spam></a></li>
{% endblock %}

{%  block content_right %}

<div class="container">	
	<form action="." method="POST">
		{% csrf_token %}
		<button type="submit" class="image-button button-info">
			{% trans " Generate Key" %}
			<span class="icon mif-cog"></span>
		</button>
	</form>
	
	{% if new_register_key %}
		<h3>{%  trans "Created Key" %} : <span class="tag success">{{ new_register_key }}</span></h3>
	{% endif %}	
	
	<table class="table hovered border bordered bg-white">
		<thead>
			<tr>
				<td>{% trans "Key" %}</td>
				<td>{% trans "Creator" %}</td>
				<td>{% trans "User" %}</td>
				<td>{% trans "Options" %}</td>
			</tr>
		<thead>
		<tbody>
			{% for register_key in register_keys %}
				<tr>
					<td>{{ register_key.key }}</td>
					<td>{{ register_key.get_creator }}</td>
					<td>{{ register_key.user }}</td>
					<td>
					{% if not register_key.user %}
					<a href="/home/manager/persons/remove_registerkey/person_type={{ person_type }}/registerkey={{ register_key.id }}/">
						<span class="icon mif-cross fg-red text-center"></span>
					</a>
					{% endif %}
					</td>
				</tr>
			{% empty %}
			{% endfor %}
		<tbody>
	</table>
</div>

{% endblock %}
