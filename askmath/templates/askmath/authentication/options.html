{% extends 'askmath/index/home.html' %}

{% load i18n %}

{% block header %}
	{% include 'askmath/_header.html' %}
{% endblock %}


{% block breadcrumbs %}
	{{ block.super }}
	<li><a href="/authentication/options/"><span class="icon mif-lock"></span> <spam>{% trans "Authentication" %}</spam></a></li>
{% endblock %}

{% block content %}
<div class="container-fluid">
<div class="row">
<div class="col-md-4 col-md-offset-4">
    <div class="tabcontrol" data-role="tabControl">
    	<ul id="menu-options" class="tabs">
            <li><a href="#frame_sign_in">{% trans "Sign In" %}</a></li>
            <li><a href="#frame_sign_up">{% trans "Sign Up" %}</a></li>
            <li><a href="#frame_recover_password">{% trans "Recover Password" %}</a></li>
        </ul>
    
        <div class="frames">
            <div class="frame" id="frame_sign_in">
           		{% with form_signin as form %}
           		{% if next %}
				<form action="/authentication/options/?next={{next}}" method="post" role="form">
				{%else%}
				<form action="/authentication/options/" method="post" role="form">
				{% endif %}
			    {% csrf_token %}
			        <h2 class="text-light text-center">{% trans "Sign In" %}</h2>
			        <hr class="thin"/>
			        <input type="hidden" name="next" value="{{ request.GET.next }}" />
			        <input type="hidden" name="option" value="sign_in">
			        <div class="input-control text full-size" data-role="input">
			            <label for="user_login">{{ form.username.label_tag }}</label>
			            {{ form.username }}
			            <button class="button helper-button clear"><span class="mif-cross"></span></button>
			        </div>
			        <br />
			        <br />
			        <div class="input-control password full-size" data-role="input">
			            <label for="user_password">{{ form.password.label_tag }}</label>
			            {{ form.password }}
			            <button class="button helper-button reveal"><span class="mif-looks"></span></button>
			        </div>
			        <div id="recaptcha1"></div>
			        <br />
			        <div class="form-actions">
						<button type="submit" class="button image-button btn-block button-primary">
							{% trans "Sign In" %}
							<span class="icon mif-enter"></span>
						</button>
			        </div>
			    </form> 
			    {% endwith %}
            </div>
            <div class="frame" id="frame_sign_up">
				{% with form_signup as form %}
				<form  action="/authentication/options/" method="POST" enctype="multipart/form-data" onSubmit="return validateSigup();" role="form">
			    {% csrf_token %}
			        <h2 class="text-light text-center">{% trans "Sign Up" %}</h2>
			        <hr class="thin"/>
			        <input type="hidden" name="option" value="sign_up">			
    				<div class="input-control text full-size" data-role="input">
			            <label for="user_name">{{ form.name.label_tag }}</label>
			            {{ form.name }}
			            <button class="button helper-button clear"><span class="mif-cross"></span></button>
			        </div>
			        <br />
			        <br />
			        <div class="input-control email full-size" data-role="input">
			            <label for="user_email">{{ form.email.label_tag }}</label>
			            {{ form.email }}
			            <button class="button helper-button clear"><span class="mif-cross"></span></button>
			        </div>
			        <br />
			        <br />
    				<div class="input-control text full-size" data-role="input">
			            <label for="user_username">{{ form.username.label_tag }}</label>
			            {{ form.username }}
			            <button class="button helper-button clear"><span class="mif-cross"></span></button>
			        </div>
			        <br />
			        <br />
			        <div class="input-control password full-size" data-role="input">
			            <label for="user_password">{{ form.password.label_tag }}</label>
			            {{ form.password }}
			            <button class="button helper-button reveal"><span class="mif-looks"></span></button>
			        </div>
			        <br />
			        <br />
			        <div class="col-md-6">
			        <div class="row">
		            	<div class="input-control full-size"  data-role="select">
						    <select name="type"  id="select-signup" class="full-size">
							    <option value="STUDENT">{% trans "STUDENT" %}</option>
					            <option value="ASSISTANT">{% trans "ASSISTANT" %}</option>
					            <option value="TEACHER">{% trans "TEACHER" %}</option>
					            <option value="ADMINISTRATOR">{% trans "ADMINISTRATOR" %}</option>
						    </select>
						</div>
					</div>
					</div>
					<div class="col-md-6">
					<div class="row">
						<div class="input-control text" data-role="input">
				            <input id="input-key" name="key" placeholder="{% trans "Enter your key" %}" disabled type="text"></input>
				            <button class="button helper-button clear"><span class="mif-cross"></span></button>
				        </div>
				    </div>
			        </div>
			        <br />
			        <br />
			        <label class="switch">
					    <input type="checkbox" required>
					    <span class="check"></span>
					    <span class="text-right">
					    	{% blocktrans %}By clicking here, you agree to the <a href="/terms/" >Terms and Conditions</a> set out by this site, including our Cookie Use.{% endblocktrans %}
					    </span>
					</label>
					<div id="recaptcha2"></div>
					<br />
					<div class="form-actions">
						<button type="submit" class="button image-button btn-block button-primary">
							{% trans "Sign Up" %}
							<span class="icon mif-enter"></span>
						</button>
			        </div>
			    </form>
			{% endwith %}            
            </div>
            <div class="frame" id="frame_recover_password">
           		{% with form_recover_password as form %}
           		<form action="/authentication/options/" method="POST" role="form">
			    {% csrf_token %}
			    	<h2 class="text-light text-center">{% trans "Recover Password" %}</h2>
			        <hr class="thin"/>
			        <input type="hidden" name="option" value="recover_password">		        
			        <div class="input-control text full-size" data-role="input">
			            <label>{{ form.username.label_tag }}</label>
			            {{ form.username }}
			            <button class="button helper-button clear"><span class="mif-cross"></span></button>
			        </div>
			        <br />
			        <br />
			        <div class="input-control email full-size" data-role="input">
			            <label>{{ form.email.label_tag }}</label>
			            {{ form.email }}
			            <button class="button helper-button clear"><span class="mif-cross"></span></button>
			        </div>
			        <div id="recaptcha3"></div>
			        <br />
			        <div class="form-actions">
			        	<button type="submit" class="image-button btn-block button-primary">
							{% trans "Recover" %}
							<span class="icon mif-history"></span>
						</button>
			        </div>
			    </form>
			    {% endwith %}
		</div>
	</div>
</div>
</div>
</div>
{% endblock %}

{% block scripts %}
	{{ block.super }}
	<script type="text/javascript">
		var recaptcha1;
      	var recaptcha2;
      	var recaptcha3;
      	var CaptchaCallback = function() {
	        recaptcha1 = grecaptcha.render('recaptcha1', {
	          'sitekey' : '6LdVnQ0TAAAAAAwnuLsezpZwIRFhdqs-yrwdmG3n', //Replace this with your Site key
	          'theme' : 'light'
	        });
	        //Render the recaptcha1 on the element with ID "recaptcha1"
	        recaptcha1 = grecaptcha.render('recaptcha1', {
	          'sitekey' : '6LdVnQ0TAAAAAAwnuLsezpZwIRFhdqs-yrwdmG3n', //Replace this with your Site key
	          'theme' : 'light'
	        });
	        
	        //Render the recaptcha2 on the element with ID "recaptcha2"
	        recaptcha2 = grecaptcha.render('recaptcha2', {
	          'sitekey' : '6LdVnQ0TAAAAAAwnuLsezpZwIRFhdqs-yrwdmG3n', //Replace this with your Site key
	          'theme' : 'light'
	        });

	        recaptcha3 = grecaptcha.render('recaptcha3', {
	          'sitekey' : '6LdVnQ0TAAAAAAwnuLsezpZwIRFhdqs-yrwdmG3n', //Replace this with your Site key
	          'theme' : 'light'
	        });
	      };
	</script>
{% endblock %}