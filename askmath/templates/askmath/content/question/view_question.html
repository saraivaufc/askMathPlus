{% extends "askmath/content/question/view_initial_details.html" %}
{% load i18n %}

{% block container-left %}
<div class="container-fluid bg-white-opacity">
	<hgroup class="text-center">
		<h3>{% trans "This question worth:" %} <spam id="points" class="tag success">{{ question.get_scores }} {% trans "Points" %}</spam></h3>
		<h4>{% trans "Mark <ins title='Several items can correct this.'>all</ins> the correct items." %}</h4>
	</hgroup>
	
	<p class="lead text-justify">{{ question.get_position }}). {{ question.get_description|safe|linebreaksbr }}</p>
	<input type="hidden" name="url_help" value="/home/content/questions/help/discipline={{ discipline.id }}/lesson={{ lesson.id }}/question={{ question.id }}/" />
	<form id="form-question" action="/home/content/questions/answer_question/discipline={{ discipline.id }}/lesson={{ lesson.id }}/question={{ question.id }}/" method="POST">
		{% csrf_token %}
		<div class="container-fluid">
			{% for item in question.get_items %}
				<div class="row">
					<label class="input-control checkbox small-check">
					    <input type="checkbox"  name="item" value={{ item.id }}>
					    <span class="check"></span>
					    <span class="caption">{{ item.get_description|safe|linebreaksbr }}</span>
					</label>
				</div>
			{% empty %}
				</ol>
				<p>{% trans "Not Item Found!!!" %}</p>
			{% endfor %}
		</div>
		<div id="lower-menu"  class="btn-group btn-group-justified">
			<div class="btn-group">
				<button type="submit" class="btn success button"/><span class="mif-checkmark icon"></span> <spam class="hidden-xs">{% trans "Reply" %}</spam></button>
		  	</div>
		  	<div class="btn-group">
		  		<a id="btn-help" class="btn info button"  data-toggle="modal" data-target="#help" {% ifequal question.get_help|length 0 %}disabled{% endifequal %}><span class="mif-help icon"></span> <spam class="hidden-xs">{% trans "Help" %}</spam></a>
			</div>
			<div class="btn-group">
			    <a class="btn warning button"   data-toggle="modal" data-target="#jump_question" {% ifequal studentlessonstate.get_remaining_jump  0 %}disabled{% endifequal %}><span class="mif-redo icon"></span> <spam class="hidden-xs">{% trans "Jump" %}</spam></a>
			</div>
			<div class="btn-group">
				<a data-toggle="modal" class="btn primary button"  data-target="#skipped_questions" {% if studentlessonstate.get_skipped_questions|length == 0 %}disabled{% endif %}{% if studentlessonstate.get_skipped_questions|length == 1 and question in studentlessonstate.get_skipped_questions  %}disabled{% endif %}><span class="mif-history icon"></span> <spam class="hidden-xs">{% trans "Review Jumps" %}</spam></a>
			</div>
			<div class="btn-group">
				<a class="btn danger button"  href="/home/content/questions/view_inicial_details/discipline={{ discipline.id }}/lesson={{ lesson.id }}/"><span class="mif-cross icon"></span> <spam class="hidden-xs">{% trans "Exit" %}</spam></a>
			</div>
		</div>
	</form>
	<br>

	{% ifnotequal question.get_help|length 0 %}
	<!-- Modal Help -->
	<div class="modal fade" id="help" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-xs fg-black">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3 class="modal-title text-center" id="myModalLabel">{% trans "Help Question" %}</h3>
				</div>
				<div class="modal-body">
					<p class="lead">{{ question.get_help|safe|linebreaksbr }}</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="button default" data-dismiss="modal">{% trans "Close" %}</button>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	{% endifnotequal %}

	{% if studentlessonstate.get_skipped_questions %}
	<!-- Modal kipped Questions -->
	<div class="modal fade" id="skipped_questions" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg fg-black">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3 class="modal-title text-center" id="myModalLabel">{% trans "Skipped Questions" %}</h3>
				</div>
				<div class="modal-body">
				<div class="list-group">
					{% for question2 in studentlessonstate.get_skipped_questions %}
						{% if question != question2 %}		
							<a href="/home/content/questions/choose_skipped_question/discipline={{ discipline.id }}/lesson={{ lesson.id }}/question={{ question2.id }}/" class="list-group-item">{{ question2.get_position }}) {{ question2.get_description|safe|linebreaksbr|truncatewords:"30" }}</a>
						{% endif %}
					{% endfor %}
				</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="button default" data-dismiss="modal">{% trans "Close" %}</button>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	{% endif %}
	
	{% if studentlessonstate.get_remaining_jump > 0 %}
	<!-- Modal Jump Question Questions -->
	<div class="modal fade" id="jump_question" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-xs fg-black">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title text-center" id="myModalLabel">{% trans "Your Jump is Question?" %}</h3>
				</div>
				<div class="modal-footer">
					<button type="button" class="button primary" data-dismiss="modal">
						{% trans "Not, is error!" %}
					</button>
					<a href="/home/content/questions/jump_question/discipline={{ discipline.id }}/lesson={{ lesson.id }}/question={{ question.id }}/" class="button success">
					{% trans "Yes, jump!" %}
					</a>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	{% endif %}
</div>
{% endblock %}

